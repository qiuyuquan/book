## 什么是xss攻击
xss又叫跨站脚本攻击，指的是浏览器中执行恶意脚本（无论是跨域还是同域），从而拿到用户的信息

常见的行为有
1. 窃取cookie
2. 监听用户行为，比如输入账号密码后直接发送到黑客服务器
3. 修稿DOM伪造登录表单
4. 在页面中生成浮窗广告

xss攻击的实现由三种方式，存储型、反射型、文档型

**存储型**
就是将恶意脚本代码存储到服务端的数据库，然后在客户端执行，从而达到攻击的效果。

常见就是留言和评论，前后端如果没有做转义的工作则会造成严重的后果

**反射型**
反射型xss值得是恶意脚本作为网络请求的一部分。
比如
```
http://baidu.com?q=<script>alert('1')</script>
```
这样服务器就会拿到q的参数，返回将内容返回给浏览器，浏览器将这些内容作为html的一部分解析。

**文档型**
文档性的xss攻击并不会经过服务端，而是作为中间人的角色，在数据传输过程中劫持网络数据，然后修改里面的html文档  

这样的劫持方式包括wifi路由器劫持和本地恶意软件等

#### 防范措施
1. 对用户输入的数据都要进行转码和过滤
2. 利用csp，即浏览器中的内容安全策略，具体说就是限制其他域下的资源加载，禁止向其他域提交数据
3. 利用httpOnly，设置cookie的HttpOnly属性，js便无法读取cookie值。

## 什么叫CSRF攻击
CSRF即跨站请求伪造，指的黑客诱导用户点击链接，打开网站，利用用户目前的登录状态发起跨站请求。

常见行为有
1. 自动发送get请求（比如img），而get请求src域名是我们自己域名，这样就默认携带了cookie上去。
2. 自动发送post请求，通过点击提交form表单来携带相对应的用户cookie信息。
3. 诱导点击发送get请求，点击一个按钮返回调整到另外一个链接。

#### 防范措施
1. 利用cookie的SameSite属性，SameSite有三个属性，strict禁止第三方请求携带cookie；lax只能在get方法提交表单或者a标签发送请求可以携带cookie，其他都不可以；none请求会自动带上cookie；
2. 验证来源站点：在服务器上验证请求头的origin（只包含域名信息）和referer（包含具体的URL路径）
3. CSRF token：服务器验证token是否合法